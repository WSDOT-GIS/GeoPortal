define(["esri/layers/FeatureLayer"],(e=>(()=>{var t={929:(e,t,r)=>{var n,o;n=[r,t,r(48)],void 0===(o=function(e,t,r){"use strict";function n(e){var t=document.createElement("li");t.classList.add("ui-state-default"),Object.prototype.hasOwnProperty.call(e,"description")&&(t.title=e.description||"");var n=document.createElement("span");return n.classList.add("ui-icon","ui-icon-arrowthick-2-n-s"),t.appendChild(n),t.appendChild(document.createTextNode((0,r.createLayerNameFromUrl)(e))),t}return $.widget("ui.layerSorter",{options:{map:null},_list:null,_moveLayer:function(e){var t=this.options.map,r=e.data("layer");if(t&&r){var n=t.layerIds.length-1-$(e).index();t.reorderLayer(r,n)}},_populateList:function(){var e,t=this;if(this.options){var r=this.options.map;this._list||(this._list=$("<ul>").appendTo(this.element).sortable({stop:function(e,r){var n=r.item;t._moveLayer(n)}}).disableSelection()),null===(e=this._list)||void 0===e||e.empty();for(var o=r.layerIds.length-1;o>=0;o-=1){var a=r.layerIds[o],i=r.getLayer(a),l=n(i);$(l).data("layer",i).appendTo(this._list)}}else console.error("layerSorter._populateList: this.options not present.",this)},_refresh:function(){this._populateList()},_create:function(){var e=this;return $(this.element).addClass("ui-layer-sorter"),$("<p>Drag items in this list to rearrange layers.</p>").appendTo(this.element),this._populateList(),this.options.map.on("layers-reordered",(function(){return e._populateList()})),this},_destroy:function(){$.Widget.prototype.destroy.apply(this,arguments)}})}.apply(t,n))||(e.exports=o)},48:(e,t,r)=>{var n,o;n=[r,t,r(655),r(296)],o=function(e,t,r,n){"use strict";function o(e,t,n,o){var a,i,l,c,u,s,f=e.createElement("table");f.createCaption().textContent=n;var p=f.createTHead(),y=f.createTBody(),d=function(e){var t,n,o=new Set;try{for(var a=r.__values(e),i=a.next();!i.done;i=a.next()){var l=i.value.attributes;for(var c in l)l.hasOwnProperty(c)&&o.add(c)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}(t),v=p.insertRow(-1);try{for(var h=r.__values(d),_=h.next();!_.done;_=h.next()){var b=_.value;(j=e.createElement("th")).scope="col",j.textContent=b,j.dataset.fieldName=b,v.appendChild(j)}}catch(e){a={error:e}}finally{try{_&&!_.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}try{for(var w=r.__values(t.map((function(e){return e.attributes}))),m=w.next();!m.done;m=w.next()){var g=m.value;v=y.insertRow(-1);try{for(var O=(u=void 0,r.__values(d)),x=O.next();!x.done;x=O.next()){var j,P=g[x.value];(j=v.insertCell(-1)).textContent=P}}catch(e){u={error:e}}finally{try{x&&!x.done&&(s=O.return)&&s.call(O)}finally{if(u)throw u.error}}}}catch(e){l={error:e}}finally{try{m&&!m.done&&(c=w.return)&&c.call(w)}finally{if(l)throw l.error}}return f}Object.defineProperty(t,"__esModule",{value:!0}),t.graphicsToTables=t.featureAttributesToTable=t.createLayerNameFromUrl=void 0,t.createLayerNameFromUrl=function(e){var t=null;if(e&&e.url){var r=e.url.match(/\/(\w+)\/MapServer/i);r&&(t=r[1])}return t&&(t=(t=t.replace(/([a-z])([A-Z])([a-z])/g,"$1 $2$3")).replace("_"," ")),t},t.featureAttributesToTable=o,t.graphicsToTables=function(e,t){var n,a,i=function(e){var t,n,o=new Map;try{for(var a=r.__values(e),i=a.next();!i.done;i=a.next()){var l=i.value,c=l.getLayer()||l.layer;if(c){var u=void 0;o.has(c)?u=o.get(c):(u=new Array,o.set(c,u)),u.push(l)}else console.warn("graphic has no associated layer",l)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.size?o:null}(t);if(!i)return null;var l=e.createDocumentFragment();try{for(var c=r.__values(i.entries()),u=c.next();!u.done;u=c.next()){var s=r.__read(u.value,2),f=s[0],p=o(e,s[1],f.id);l.appendChild(p)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}return l}}.apply(t,n),void 0===o||(e.exports=o)},655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>a,__asyncDelegator:()=>g,__asyncGenerator:()=>m,__asyncValues:()=>O,__await:()=>w,__awaiter:()=>s,__classPrivateFieldGet:()=>T,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>E,__createBinding:()=>p,__decorate:()=>l,__exportStar:()=>y,__extends:()=>o,__generator:()=>f,__importDefault:()=>S,__importStar:()=>P,__makeTemplateObject:()=>x,__metadata:()=>u,__param:()=>c,__read:()=>v,__rest:()=>i,__spread:()=>h,__spreadArray:()=>b,__spreadArrays:()=>_,__values:()=>d});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function l(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function c(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function s(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function l(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))}function f(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}var p=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function y(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||p(t,e,r)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function _(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,l=a.length;i<l;i++,o++)n[o]=a[i];return n}function b(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||l(e,t)}))})}function l(e,t){try{(r=o[e](t)).value instanceof w?Promise.resolve(r.value.v).then(c,u):s(a[0][2],r)}catch(e){s(a[0][3],e)}var r}function c(e){l("next",e)}function u(e){l("throw",e)}function s(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var j=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return j(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function E(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},296:t=>{"use strict";t.exports=e}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,n),a.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(929)})()));
//# sourceMappingURL=layerSorter.js.map