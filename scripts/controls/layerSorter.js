define(["esri/layers/FeatureLayer"],function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){var n,o;n=[r,e,r(1)],void 0===(o=function(t,e,r){"use strict";function n(t){var e=document.createElement("li");e.classList.add("ui-state-default"),t.hasOwnProperty("description")&&(e.title=t.description||"");var n=document.createElement("span");return n.classList.add("ui-icon","ui-icon-arrowthick-2-n-s"),e.appendChild(n),e.appendChild(document.createTextNode(r.createLayerNameFromUrl(t))),e}return $.widget("ui.layerSorter",{options:{map:null},_list:null,_moveLayer:function(t){var e=this.options.map,r=t.data("layer");if(e&&r){var n=e.layerIds.length-1-$(t).index();e.reorderLayer(r,n)}},_populateList:function(){var t=this;if(this.options){var e=this.options.map;this._list||(this._list=$("<ul>").appendTo(this.element).sortable({stop:function(e,r){var n=r.item;t._moveLayer(n)}}).disableSelection()),this._list.empty();for(var r=e.layerIds.length-1;r>=0;r-=1){var o=e.layerIds[r],a=e.getLayer(o),i=n(a);$(i).data("layer",a).appendTo(this._list)}}else console.error("layerSorter._populateList: this.options not present.",this)},_refresh:function(){this._populateList()},_create:function(){var t=this;return $(this.element).addClass("ui-layer-sorter"),$("<p>Drag items in this list to rearrange layers.</p>").appendTo(this.element),this._populateList(),this.options.map.on("layers-reordered",function(){return t._populateList()}),this},_destroy:function(){$.Widget.prototype.destroy.apply(this,arguments)}})}.apply(e,n))||(t.exports=o)},function(t,e,r){var n,o;n=[r,e,r(2),r(3)],void 0===(o=function(t,e,r,n){"use strict";function o(t,e,n,o){var a,i,u,l,c,f,s=t.createElement("table");s.createCaption().textContent=n;var p=s.createTHead(),y=s.createTBody(),d=function(t){var e,n,o=new Set;try{for(var a=r.__values(t),i=a.next();!i.done;i=a.next()){var u=i.value,l=u.attributes;for(var c in l)l.hasOwnProperty(c)&&o.add(c)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o}(e),v=p.insertRow(-1);try{for(var h=r.__values(d),_=h.next();!_.done;_=h.next()){var b=_.value;(S=t.createElement("th")).scope="col",S.textContent=b,S.dataset.fieldName=b,v.appendChild(S)}}catch(t){a={error:t}}finally{try{_&&!_.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}try{for(var m=r.__values(e.map(function(t){return t.attributes})),w=m.next();!w.done;w=m.next()){var x=w.value;v=y.insertRow(-1);try{for(var g=r.__values(d),O=g.next();!O.done;O=g.next()){var S,P=x[O.value];(S=v.insertCell(-1)).textContent=P}}catch(t){c={error:t}}finally{try{O&&!O.done&&(f=g.return)&&f.call(g)}finally{if(c)throw c.error}}}}catch(t){u={error:t}}finally{try{w&&!w.done&&(l=m.return)&&l.call(m)}finally{if(u)throw u.error}}return s}Object.defineProperty(e,"__esModule",{value:!0}),e.createLayerNameFromUrl=function(t){var e=null;if(t&&t.url){var r=t.url.match(/\/(\w+)\/MapServer/i);r&&(e=r[1])}return e&&(e=(e=e.replace(/([a-z])([A-Z])([a-z])/g,"$1 $2$3")).replace("_"," ")),e},e.featureAttributesToTable=o,e.graphicsToTables=function(t,e){var n,a,i=function(t){var e,n,o=new Map;try{for(var a=r.__values(t),i=a.next();!i.done;i=a.next()){var u=i.value,l=u.getLayer()||u.layer;if(l){var c=void 0;o.has(l)?c=o.get(l):(c=new Array,o.set(l,c)),c.push(u)}else console.warn("graphic has no associated layer",u)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o.size?o:null}(e);if(!i)return null;var u=t.createDocumentFragment();try{for(var l=r.__values(i.entries()),c=l.next();!c.done;c=l.next()){var f=r.__read(c.value,2),s=f[0],p=o(t,f[1],s.id);u.appendChild(p)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return u}}.apply(e,n))||(t.exports=o)},function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",function(){return o}),r.d(e,"__assign",function(){return a}),r.d(e,"__rest",function(){return i}),r.d(e,"__decorate",function(){return u}),r.d(e,"__param",function(){return l}),r.d(e,"__metadata",function(){return c}),r.d(e,"__awaiter",function(){return f}),r.d(e,"__generator",function(){return s}),r.d(e,"__exportStar",function(){return p}),r.d(e,"__values",function(){return y}),r.d(e,"__read",function(){return d}),r.d(e,"__spread",function(){return v}),r.d(e,"__await",function(){return h}),r.d(e,"__asyncGenerator",function(){return _}),r.d(e,"__asyncDelegator",function(){return b}),r.d(e,"__asyncValues",function(){return m}),r.d(e,"__makeTemplateObject",function(){return w}),r.d(e,"__importStar",function(){return x}),r.d(e,"__importDefault",function(){return g});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var a=function(){return(a=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&(r[n[o]]=t[n[o]])}return r}function u(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function l(t,e){return function(r,n){e(r,n,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{l(n.next(t))}catch(t){a(t)}}function u(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(i,u)}l((n=n.apply(t,e||[])).next())})}function s(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function p(t,e){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}function y(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function d(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function _(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||u(t,e)})})}function u(t,e){try{(r=o[t](e)).value instanceof h?Promise.resolve(r.value.v).then(l,c):f(a[0][2],r)}catch(t){f(a[0][3],t)}var r}function l(t){u("next",t)}function c(t){u("throw",t)}function f(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function b(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:h(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function m(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=y(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function g(t){return t&&t.__esModule?t:{default:t}}},function(e,r){e.exports=t}])});
//# sourceMappingURL=layerSorter.js.map