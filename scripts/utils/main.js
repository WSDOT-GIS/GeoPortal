/*! For license information please see main.js.LICENSE.txt */
define(["esri/layers/FeatureLayer","dojo/dnd/Moveable","dojo/text!./print.css","esri/geometry/webMercatorUtils","esri/SpatialReference"],((e,t,r,n,o)=>(()=>{var a={135:(e,t,r)=>{var n,o;n=[r,t,r(655)],o=function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t,r){var n=e.call(this,"Input string was not in expected format.\nExpected ".concat(r.source,"\nGot ").concat(t))||this;return n.input=t,n.format=r,n}return r.__extends(t,e),t}(Error);t.default=n}.apply(t,n),void 0===o||(e.exports=o)},386:(e,t,r)=>{var n,o;n=[r,t,r(655)],o=function(e,t,r){"use strict";function n(e){var t=null;if(e)if(e instanceof Array)t=e;else if("object"==typeof e)for(var r in t=[],e)if(e.hasOwnProperty(r)){var o=e[r];(o=n(o))&&(t=t.concat(o))}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=t.ConfigError=t.getVisibleLayerIdsFromConfig=void 0,t.getVisibleLayerIdsFromConfig=function(e){var t,o,a=[];if(e){e=n(e);try{for(var i=r.__values(e),c=i.next();!c.done;c=i.next()){var l=c.value;l.options&&l.options.visible&&l.options.id&&a.push(l.options.id)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=i.return)&&o.call(i)}finally{if(t)throw t.error}}}return a};var o=function(e){function t(t,r){var n=e.call(this,"Invalid config parameter: ".concat(t||"[no name]",". ").concat(r?"url: ".concat(r):""))||this;return n.configName=t,n.configUrl=r,n}return r.__extends(t,e),t}(Error);t.ConfigError=o,t.getConfig=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,a;return r.__generator(this,(function(r){switch(r.label){case 0:return i=new URLSearchParams(location.search).get("config")||void 0,e={name:i,url:i?"config/".concat(i,".json"):"config/config.json"},t=e.name,n=e.url,[4,fetch(n)];case 1:return(a=r.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,r.sent()];case 3:throw document.body.removeAttribute("class"),document.body.innerHTML="<p class='ui-state-error ui-corner-all'>Error: Invalid <em>config</em> parameter.</p>",new o(t,n)}var i}))}))}}.apply(t,n),void 0===o||(e.exports=o)},395:(e,t,r)=>{var n,o;n=[r,t,r(655),r(135)],o=function(e,t,r,n){"use strict";function o(e){var t=new Set;for(var r in e)e.hasOwnProperty(r)&&t.add(r);return t}function a(e){if("object"!=typeof e)return document.createTextNode("".concat(e));if(e instanceof Date){var t=document.createElement("time");return t.dateTime=e.toISOString(),t.textContent=e.toString(),t}var r=document.createElement("table");for(var n in e)if(e.hasOwnProperty(n)){var o=e[n],i=r.insertRow(-1),c=document.createElement("th");c.textContent=n,i.appendChild(c);var l=i.insertCell(-1),u=a(o);u&&l.appendChild(u)}return r}function i(e){var t=/^data:([^;]+)?(?:;([^,]+))?,(.+)$/,o=e.match(t);if(o){var a,i=r.__read(o.slice(1),3),c=i[0],l=i[1],u=i[2];return a=l?btoa(u):decodeURIComponent(u),{mediaType:c,base64:Boolean(l),data:a}}throw new n.default(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDataUrl=t.convertToHtml=t.toElement=t.toTable=t.getProperties=void 0,n=r.__importDefault(n),t.getProperties=o,t.toTable=function(e){var t,n,a,i,c,l,u=o(e),s=document.createElement("table"),f=s.createTHead(),d=s.createTBody(),p=f.insertRow(-1);try{for(var y=r.__values(u),v=y.next();!v.done;v=y.next()){var h=v.value,m=document.createElement("th");m.textContent=h,p.appendChild(m)}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=y.return)&&n.call(y)}finally{if(t)throw t.error}}try{for(var _=r.__values(e),w=_.next();!w.done;w=_.next()){var b=w.value;p=d.insertRow(-1);try{for(var g=(c=void 0,r.__values(u)),x=g.next();!x.done;x=g.next()){var S=x.value,O=p.insertCell(-1),P=b[S];null!=P&&(O.textContent=P.toString())}}catch(e){c={error:e}}finally{try{x&&!x.done&&(l=g.return)&&l.call(g)}finally{if(c)throw c.error}}}}catch(e){a={error:e}}finally{try{w&&!w.done&&(i=_.return)&&i.call(_)}finally{if(a)throw a.error}}return s},t.toElement=a,t.convertToHtml=function(e){var t=i(e),r=t.mediaType,n=(t.base64,t.data);if(r&&"application/json"===r)return a(JSON.parse(n));var o=document.createElement("pre");return o.textContent=n,o},t.parseDataUrl=i}.apply(t,n),void 0===o||(e.exports=o)},811:(e,t,r)=>{var n,o;n=[r,t,r(151),r(489),r(672),r(89),r(48)],o=function(e,t,r,n,o,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPrintLink=t.makeDraggable=t.addGoogleStreetViewLink=t.addExportFeatureLink=void 0;var c=new a(4326);t.addExportFeatureLink=function(e){var t=e.domNode.querySelector(".actionList"),r=document.createElement("a"),n=document.createDocumentFragment();return r.textContent="Export",r.href="#",r.title="Exports the feature to JSON",r.classList.add("action"),r.classList.add("export-feature"),n.appendChild(document.createTextNode(" ")),n.appendChild(r),r.onclick=function(t){var n=e.features[e.selectedIndex];o.canProject(n.geometry,c)&&(n.geometry=o.project(n.geometry,c)),n=n.toJson();var a=JSON.stringify(n,null,"\t"),i="data:application/json,".concat(encodeURIComponent(a));r.href=i,r.target="_blank"},t.appendChild(n),r},t.addGoogleStreetViewLink=function(e){var t=e.domNode.querySelector(".actionList"),r=document.createElement("a"),n=document.createDocumentFragment();return r.textContent="Google Street View",r.href="#",r.title="Shows the current location in Google Street View",r.classList.add("action"),r.classList.add("google"),r.classList.add("google-street-view"),n.appendChild(document.createTextNode(" ")),n.appendChild(r),r.onclick=function(){var t=e.features[e.selectedIndex].geometry;"point"!==t.type&&(t=e.location),o.canProject(t,c)&&(t=o.project(t,c));var r,n,a=(n=[(r=t).x,r.y],"http://maps.google.com/maps?q=&layer=c&cbll=".concat(n[1],",").concat(n[0],"&cbp=11,0,0,0,0"));return window.open(a,"_blank"),!1},t.appendChild(n),r},t.makeDraggable=function(e){if(!e)throw new TypeError("No InfoWindow was provided.");var t=e.domNode.querySelector(".title");new r(e.domNode,{handle:t}).on("FirstMove",(function(){var t=e.domNode.querySelector(".outerPointer");t.classList.add("hidden"),(t=e.domNode.querySelector(".pointer")).classList.add("hidden")}))},t.addPrintLink=function(e,t){var r=e.domNode.querySelector(".actionList"),o=document.createElement("a"),a=document.createDocumentFragment();return o.textContent="Print",o.href="#",o.title="Opens identify results in a new window for printing.",o.classList.add("action","print"),a.appendChild(document.createTextNode(" ")),a.appendChild(o),o.onclick=function(){var r=document.implementation.createHTMLDocument("attributes"),o=(0,i.graphicsToTables)(r,e.features);if(!o)return alert("Sorry, the print function is not supported for this feature."),!1;r.body.appendChild(o);var a=r.createElement("style");a.type="text/css",a.textContent=n,r.head.appendChild(a);var c="<!DOCTYPE html>"+r.documentElement.outerHTML,l=window.open(t,"geoportal_attribute_table");return l.document.write(c),l.focus(),!1},r.appendChild(a),o}}.apply(t,n),void 0===o||(e.exports=o)},48:(e,t,r)=>{var n,o;n=[r,t,r(655),r(296)],o=function(e,t,r,n){"use strict";function o(e,t,n,o){var a,i,c,l,u,s,f=e.createElement("table");f.createCaption().textContent=n;var d=f.createTHead(),p=f.createTBody(),y=function(e){var t,n,o=new Set;try{for(var a=r.__values(e),i=a.next();!i.done;i=a.next()){var c=i.value.attributes;for(var l in c)c.hasOwnProperty(l)&&o.add(l)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}(t),v=d.insertRow(-1);try{for(var h=r.__values(y),m=h.next();!m.done;m=h.next()){var _=m.value;(O=e.createElement("th")).scope="col",O.textContent=_,O.dataset.fieldName=_,v.appendChild(O)}}catch(e){a={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(a)throw a.error}}try{for(var w=r.__values(t.map((function(e){return e.attributes}))),b=w.next();!b.done;b=w.next()){var g=b.value;v=p.insertRow(-1);try{for(var x=(u=void 0,r.__values(y)),S=x.next();!S.done;S=x.next()){var O,P=g[S.value];(O=v.insertCell(-1)).textContent=P}}catch(e){u={error:e}}finally{try{S&&!S.done&&(s=x.return)&&s.call(x)}finally{if(u)throw u.error}}}}catch(e){c={error:e}}finally{try{b&&!b.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}return f}Object.defineProperty(t,"__esModule",{value:!0}),t.graphicsToTables=t.featureAttributesToTable=t.createLayerNameFromUrl=void 0,t.createLayerNameFromUrl=function(e){var t=null;if(e&&e.url){var r=e.url.match(/\/(\w+)\/MapServer/i);r&&(t=r[1])}return t&&(t=(t=t.replace(/([a-z])([A-Z])([a-z])/g,"$1 $2$3")).replace("_"," ")),t},t.featureAttributesToTable=o,t.graphicsToTables=function(e,t){var n,a,i=function(e){var t,n,o=new Map;try{for(var a=r.__values(e),i=a.next();!i.done;i=a.next()){var c=i.value,l=c.getLayer()||c.layer;if(l){var u=void 0;o.has(l)?u=o.get(l):(u=new Array,o.set(l,u)),u.push(c)}else console.warn("graphic has no associated layer",c)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o.size?o:null}(t);if(!i)return null;var c=e.createDocumentFragment();try{for(var l=r.__values(i.entries()),u=l.next();!u.done;u=l.next()){var s=r.__read(u.value,2),f=s[0],d=o(e,s[1],f.id);c.appendChild(d)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c}}.apply(t,n),void 0===o||(e.exports=o)},232:(e,t,r)=>{var n,o;n=[r,t,r(655),r(135),r(246),r(395),r(48),r(386),r(811)],o=function(e,t,r,n,o,a,i,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showDisclaimer=t.FormatError=void 0,n=r.__importDefault(n),o=r.__importDefault(o),t.FormatError=n.default,t.showDisclaimer=o.default,r.__exportStar(a,t),r.__exportStar(i,t),r.__exportStar(c,t),r.__exportStar(l,t)}.apply(t,n),void 0===o||(e.exports=o)},246:(e,t,r)=>{var n;n=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="";if(location.search){var n=location.search.match(/\bconfig=([^&]+)/i);n&&(r=n[1])}r||(r="");var o="GeoportalAggreedToDisclaimer"+r,a=window.localStorage.getItem(o);void 0===e||!t&&null===e||new Promise((function(r,n){try{var o=new XMLHttpRequest;o.open("get",e),o.onloadend=function(){200===this.status?t||this.response!==a?r(this.response):r(null):n(this.statusText)},o.send()}catch(e){n(e)}})).then((function(e){if(e){var t=(new DOMParser).parseFromString(e,"text/html"),r=t.querySelector("head > title"),n=r?r.textContent:"Disclaimer",a=t.querySelector("body").innerHTML;$("<div>").html(a).dialog({title:n,modal:!0,closeOnEscape:!1,width:600,buttons:{Accept:function(){$(this).dialog("close")}},open:function(){var e=$(this).parent();$("a.ui-dialog-titlebar-close",e).remove()},close:function(){window.localStorage.setItem(o,e),$(this).dialog("destroy").remove()}})}}),(function(e){console.error("Error creating disclaimer",e)}))}}.apply(t,[r,t]),void 0===n||(e.exports=n)},655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>a,__asyncDelegator:()=>g,__asyncGenerator:()=>b,__asyncValues:()=>x,__await:()=>w,__awaiter:()=>s,__classPrivateFieldGet:()=>T,__classPrivateFieldSet:()=>C,__createBinding:()=>d,__decorate:()=>c,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>j,__importStar:()=>P,__makeTemplateObject:()=>S,__metadata:()=>u,__param:()=>l,__read:()=>v,__rest:()=>i,__spread:()=>h,__spreadArray:()=>_,__spreadArrays:()=>m,__values:()=>y});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function c(e,t,r,n){var o,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function l(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function s(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function c(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))}function f(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var d=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function p(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var a=arguments[t],i=0,c=a.length;i<c;i++,o++)n[o]=a[i];return n}function _(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||c(e,t)}))})}function c(e,t){try{(r=o[e](t)).value instanceof w?Promise.resolve(r.value.v).then(l,u):s(a[0][2],r)}catch(e){s(a[0][3],e)}var r}function l(e){c("next",e)}function u(e){c("throw",e)}function s(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function g(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:w(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=y(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var O=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return O(t,e),t}function j(e){return e&&e.__esModule?e:{default:e}}function T(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function C(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}},151:e=>{"use strict";e.exports=t},489:e=>{"use strict";e.exports=r},89:e=>{"use strict";e.exports=o},672:e=>{"use strict";e.exports=n},296:t=>{"use strict";t.exports=e}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return a[e](r,r.exports,c),r.exports}return c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(232)})()));
//# sourceMappingURL=main.js.map